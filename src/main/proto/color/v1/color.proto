syntax = "proto3";

package retail.colors.v1;

import "google/protobuf/timestamp.proto";

option java_multiple_files = true;
option java_package = "com.apptorise.retail.color.protos.v1";
option java_outer_classname = "ColorProto";

service ColorService {
  rpc ListAllColors (ListAllColorsRequest) returns (ListColorsResponse);
  rpc ListColors (ListColorsRequest) returns (ListColorsResponse);
  rpc SearchColors (SearchColorsRequest) returns (ListColorsResponse);
  rpc GetColor (GetColorRequest) returns (Color);
  rpc ToggleFavoriteColor (ToggleFavoriteColorRequest) returns (FavoriteColor);
  rpc ListFavoriteColors (ListFavoriteColorsRequest) returns (ListFavoriteColorsResponse);
}

message Color {
  int64 id = 1;
  string name = 2;
  string hex = 3;
  string code = 4;
  google.protobuf.Timestamp created_at = 5;
  google.protobuf.Timestamp updated_at = 6;
}

message FavoriteColor {
  int64 id = 1;
  int64 user_id = 2;
  Color color = 3;
  google.protobuf.Timestamp created_at = 4;
}

message ListAllColorsRequest {}

message ListColorsRequest {
  int32 page_size = 1;
  string page_token = 2;
}

message SearchColorsRequest {
  string query = 1;
}

message ListColorsResponse {
  repeated Color colors = 1;
  string next_page_token = 2;
}

message GetColorRequest {
  int64 id = 1;
}

message ToggleFavoriteColorRequest {
  int64 color_id = 1;
}

message ListFavoriteColorsRequest {
  int32 page_size = 1;
  string page_token = 2;
}

message ListFavoriteColorsResponse {
  repeated FavoriteColor favorites = 1;
  string next_page_token = 2;
}